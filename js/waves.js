// Aliases.
let Application = PIXI.Application;
let Graphics = PIXI.Graphics;

let appWidth = 500;
let appHeight = 500;

// Initiate the application.
let app = new Application({
    width: appWidth,
    height: appHeight,
    antialias: true,
    transparent: false,
    resolution: 1
});

let circle;

function setup() {
    circle = createCircle(appWidth / 2, appHeight / 2, 10);
    app.stage.addChild(circle);
    app.ticker.add(delta => gameloop(delta));
}

function gameloop(delta) {
    let newRadius = circle.width + 1;
    circle.destroy();
    circle = createCircle(appWidth / 2, appWidth / 2, newRadius);
    app.stage.addChild(circle);
}

function createCircle(x_position, y_position, radius) {
    let circle = new Graphics();
    circle.lineStyle(2, 0xFFFFFF, 1);
    circle.beginFill(0x000000);
    circle.drawCircle(0, 0, radius);
    circle.endFill();
    circle.x = x_position;
    circle.y = y_position;
    
    return circle;
}

setup();

// Add the canvas generated by PIXI to the DOM.
document.body.appendChild(app.view);